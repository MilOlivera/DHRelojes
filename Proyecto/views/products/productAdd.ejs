<%- include('../partials/head.ejs') %>
<body>
    <%- include('../partials/header.ejs') %>
    <main class="main-register">
        <section class="section-register">
            <h2 class="product-add-title">Agregar Item</h2>
            <form class="width-registro" action="/products" method="POST" enctype="multipart/form-data" id="productsValidator">
                <div class="divGrupo" id="grupo-name">
                    <input 
                    class="formInput" 
                    type="text" 
                    placeholder="Nombre del Producto" 
                    name="name" id="name" 
                    value="<%= locals.oldData ? oldData.name : null %>">
                    <i class="productValidacion-estado fas fa-times-circle"></i>
                    <% if (locals.errors && errors.name) { %>
                        <div class="text-danger">
                            <%= errors.name.msg %>
                        </div>
                    <% } %>
                    <!-- <p id="errores-name"></p> -->
                    <p class="productError">El nombre debe tener al menos cinco caracteres y no puede incluir numeros</p>
                </div>

                <div class="divGrupo" id="grupo-description">
                    <input 
                    class="formInput" 
                    type="text"  
                    placeholder="Descripción del Producto" 
                    name="description" 
                    id="description" 
                    value="<%= locals.oldData ? oldData.description : null %>">
                    <i class="productValidacion-estado fas fa-times-circle"></i>
                    <% if (locals.errors && errors.description) { %>
                        <div class="text-danger">
                            <%= errors.description.msg %>
                        </div>
                    <% } %>
                    <!-- <p id="errores-description"></p> -->
                    <p class="productError">La descripcion debe tener al menos 20 caracteres</p>
                </div>

                <div class="divGrupo" id="grupo-price">
                    <input class="formInput" type="number" placeholder="Precio" name="price" id="price" value="<%= locals.oldData ? oldData.price : null %>" required>
                    <i class="productValidacion-estado fas fa-times-circle"></i>
                    <% if (locals.errors && errors.price) { %>
                        <div class="text-danger">
                            <%= errors.price.msg %>
                        </div>
                    <% } %>
                    <!-- <p id="errores-price"></p> -->
                    <p class="productError">Utilice el "." como separador decimal</p>
                </div>

                <div><select class="formInput" type="text" placeholder="Categoria" name="category" id="category" required>

                    <option value="" disabled selected>- Seleccione Categoría - </option>
                    <option value="1" > Center Pompidou </option>
                    <option value="2" > Jaquet Droze </option>
                    <option value="3" > Tinker </option>
                    <option value="4" > Colors of Nature </option>

                    </select>

                    <% if (locals.errors && errors.category) { %>
                        <div class="text-danger">
                            <%= errors.category.msg %>
                        </div>
                    <% } %>
                    <!-- <p id="errores-price"></p> -->

                </div>
                <div><input class="formInput-edit" type="file" placeholder="image" name="image" id="image"></div>
                <br></br>
                <div><input type="submit" value="Save" class="send-btn-register"></div>
            </form>
        </section>
    </main>
    <%- include('../partials/footer.ejs') %>
    <script src="/js/productsValidator.js"></script>
</body>
</html>